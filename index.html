<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Menu - Mixed by Genny</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #000000;
      color: #001f4d;
    }
    header {
      text-align: center;
      padding: 20px;
    }
    header img {
      width: 100%;
      max-width: 480px;
    }
    main {
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    .pizza {
      background: #644B00;
      border-radius: 12px;
      padding: 15px;
      margin: 20px 0;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .pizza img {
      width: 110px;
      height: 110px;
      border-radius: 10px;
      object-fit: cover;
      background: #B87333;
      border: 3px solid #b71c1c;
    }
    .pizza-info {
      flex: 1;
    }
    .pizza-name {
      font-size: 1.5em;
      margin: 0;
    }
    .pizza-ingredients {
      font-size: 0.9em;
      color: #333;
    }
    .pizza-price {
      font-size: 1em;
      color: #1b4f8c;
      font-weight: bold;
    }
    .pizza.margherita {
      background: #644B00;
    }
    .pizza.diavola1 {
      background: #644B00;
    }
    .pizza.gorgonzola {
      background: #644B00;
    }
    .pizza.mixed {
      background: #644B00;
    }
    .ai-box {
      background: #644B00;
      border-radius: 12px;
      padding: 20px;
      margin-top: 40px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    .ai-box h2 {
      margin-top: 0;
      color: #d35400;
    }
    label, input, button {
      display: block;
      width: 100%;
      margin-bottom: 1em;
      font-size: 1em;
    }
    input {
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #96DED1;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
    }
    #risposta-ai {
      margin-top: 1em;
      font-size: 1.2em;
      font-weight: bold;
      color: #d35400;
      white-space: pre-line;
    }
    footer {
      text-align: center;
      font-size: 0.9em;
      padding: 15px;
      background: #447fbc;
      color: white;
      margin-top: 40px;
    }
  </style>
</head>
<body>
  <header>
    <img src="logo.png" alt="Logo Mixed by Genny" />
  </header>
  <main>
    <div class="pizza margherita">
      <img src="diavola1.jpeg" alt="Margherita" />
      <div class="pizza-info">
        <p class="pizza-name">Margherita</p>
        <p class="pizza-ingredients">Pomodoro, mozzarella, basilico</p>
        <p class="pizza-price">10‚Ç¨</p>
      </div>
    </div>
    <div class="pizza diavola1">
      <img src="diavola1.jpeg" alt="Diavola" />
      <div class="pizza-info">
        <p class="pizza-name">Diavola</p>
        <p class="pizza-ingredients">Mozzarella, pomodoro, salame piccante</p>
        <p class="pizza-price">10‚Ç¨</p>
      </div>
    </div>
    <div class="pizza gorgonzola">
      <img src="diavola1.jpeg" alt="Gorgonzola" />
      <div class="pizza-info">
        <p class="pizza-name">Gorgonzola</p>
        <p class="pizza-ingredients">Mozzarella, gorgonzola, noci</p>
        <p class="pizza-price">10‚Ç¨</p>
      </div>
    </div>
    <div class="pizza mixed">
      <img src="diavola1.jpeg" alt="Mixed by Genny" />
      <div class="pizza-info">
        <p class="pizza-name">Mixed by Genny</p>
        <p class="pizza-ingredients">Pomodoro, mozzarella, patatine, wurstel, olive</p>
        <p class="pizza-price">10‚Ç¨</p>
      </div>
    </div>
    <div class="ai-box">
      <h2>Ti consiglio una pizza!</h2>
      <label for="gusto">Scrivi i tuoi gusti oppure parla con me:</label>
      <input type="text" id="gusto" placeholder="Es: pomodoro, mozzarella" />
      <button id="chiedi-btn">Consiglia pizza</button>
      <button id="parla-btn">üéôÔ∏è Parlami di te</button>
      <div id="risposta-ai"></div>
    </div>
  </main>
  <footer>
    Coperto: 2‚Ç¨ a persona (include acqua da 50ml)
  </footer>
  <script>
async function chiediConsiglio(gusti) {
  return new Promise((resolve) => {
    setTimeout(() => {
      let risposta;
      const g = gusti.toLowerCase();

      if (g.includes('salame') || g.includes('peperoni') || g.includes('piccante')) {
        risposta = "üî• Hai voglia di qualcosa di deciso? Prova la Diavola con salame piccante!";
      } else if (g.includes('funghi') || g.includes('champignon') || g.includes('porcini')) {
        risposta = "üçÑ Una pizza ai funghi √® la scelta perfetta per un sapore terroso e delicato.";
      } else if (g.includes('mozzarella') || g.includes('pomodoro') || g.includes('margherita')) {
        risposta = "üçÖ La Margherita √® un grande classico: semplice, elegante e sempre gustosa.";
      } else if (g.includes('gorgonzola') || g.includes('formaggi') || g.includes('quattro formaggi') || g.includes('blu')) {
        risposta = "üßÄ Gorgonzola, fontina, mozzarella e parmigiano: prova la Quattro Formaggi per un gusto intenso!";
      } else if (g.includes('prosciutto') || g.includes('crudo') || g.includes('cotto') || g.includes('speck')) {
        risposta = "ü•ì Il prosciutto sulla pizza √® un must! Ti consiglio una pizza con cotto o crudo a crudo.";
      } else if (g.includes('rucola') || g.includes('grana') || g.includes('scaglie')) {
        risposta = "üåø Fresca e leggera? Vai con rucola e grana su base Margherita!";
      } else if (g.includes('olive') || g.includes('capperi') || g.includes('carciofi')) {
        risposta = "ü´í Ami i sapori mediterranei? La Capricciosa fa al caso tuo!";
      } else if (g.includes('tonno') || g.includes('cipolla') || g.includes('rossa di tropea')) {
        risposta = "üêü Tonno e cipolla: un mix semplice ma saporito!";
      } else if (g.includes('zucchine') || g.includes('melanzane') || g.includes('peperoni grigliati') || g.includes('verdure')) {
        risposta = "ü•¨ Ami le verdure grigliate? Una Vegetariana ben fatta √® perfetta!";
      } else if (g.includes('salsiccia') || g.includes('friarielli') || g.includes('broccoli')) {
        risposta = "ü•© Prova la Salsiccia e Friarielli: un'esplosione di sapore napoletano!";
      } else if (g.includes('tartufo') || g.includes('crema di tartufo')) {
        risposta = "üçÑ Hai gusti raffinati? Vai con una pizza con crema di tartufo e mozzarella!";
      } else if (g.includes('bufala')) {
        risposta = "üßÄ La Bufala aggiunge cremosit√† unica alla tua pizza. Perfetta su base Margherita.";
      } else if (g.includes('bresaola') || g.includes('rucola') || g.includes('grana')) {
        risposta = "ü•© Bresaola, rucola e grana: un mix fresco, elegante e leggero.";
      } else if (g.includes('pesto')) {
        risposta = "üåø Il pesto d√† un tocco ligure spettacolare alla tua pizza. Provalo con pomodorini e mozzarella!";
      } else if (g.includes('pomodorini') || g.includes('datterini')) {
        risposta = "üçÖ Pomodorini freschi? Provali su una base bianca con mozzarella e basilico!";
      } else if (g.includes('wurstel')) {
        risposta = "üå≠ Wurstel e patatine? Una scelta perfetta per i pi√π giovani (e non solo)!";
      } else if (g.includes('patatine')) {
        risposta = "üçü Se ti piacciono le patatine fritte, puoi provare una pizza in stile fast food!";
      } else if (g.includes('ananas')) {
        risposta = "üçç S√¨, esiste anche la pizza hawaiana! Ananas e prosciutto per chi ama osare.";
      } else if (g.includes('uova') || g.includes('uovo')) {
        risposta = "ü•ö Uovo in camicia sulla pizza? Perfetto su una carbonara o amatriciana.";
      } else if (g.includes('nduja')) {
        risposta = "üå∂ La 'nduja √® piccante e intensa. Da provare su base bianca con burrata!";
      } else if (g.includes('burrata')) {
        risposta = "ü•õ Burrata su pizza? Una goduria cremosa da provare assolutamente!";
      } else if (g.includes('carbonara')) {
        risposta = "üçù Sei amante della carbonara? Abbiamo una pizza ispirata con uovo, guanciale e pepe nero.";
      } else {
        risposta = "ü§î Non sono sicuro dei tuoi gusti, ma ti consiglio la Quattro Stagioni: un mix completo per tutti i palati!";
      }

      resolve({ risposta });
    }, 1000);
  });
}

    document.getElementById('chiedi-btn').addEventListener('click', async () => {
      const gustoInput = document.getElementById('gusto').value.trim();
      const rispostaDiv = document.getElementById('risposta-ai');
      if (!gustoInput) {
        rispostaDiv.textContent = "Per favore, inserisci qualche gusto.";
        return;
      }
      rispostaDiv.textContent = "Sto pensando...";
      try {
        const data = await chiediConsiglio(gustoInput);
        rispostaDiv.innerHTML = `<strong>${data.risposta}</strong>`;
      } catch (e) {
        rispostaDiv.textContent = "‚ö†Ô∏è Qualcosa √® andato storto, riprova tra un momento.";
        console.error(e);
      }
    });
    document.getElementById('parla-btn').addEventListener('click', () => {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) {
        alert("Il tuo browser non supporta il riconoscimento vocale.");
        return;
      }
      const recognition = new SpeechRecognition();
      recognition.lang = 'it-IT';
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;
      const rispostaDiv = document.getElementById('risposta-ai');
      rispostaDiv.textContent = "Sto ascoltando... üéß";
      recognition.start();
      recognition.onresult = async (event) => {
        const inputVocale = event.results[0][0].transcript;
        rispostaDiv.textContent = `Hai detto: "${inputVocale}"\nSto pensando... ü§î`;
        try {
          const data = await chiediConsiglio(inputVocale);
          rispostaDiv.innerHTML = `<strong>${data.risposta}</strong>`;
          const utter = new SpeechSynthesisUtterance(data.risposta);
          utter.lang = 'it-IT';
          window.speechSynthesis.speak(utter);
        } catch (err) {
          rispostaDiv.textContent = "Errore durante il consiglio vocale.";
          console.error(err);
        }
      };
      recognition.onerror = (event) => {
        rispostaDiv.textContent = "Errore durante il riconoscimento vocale.";
        console.error("SpeechRecognition error:", event.error);
      };
    });
  </script>
</body>
</html>
