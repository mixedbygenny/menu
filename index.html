<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mixed by Genny - Menu</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet" />
  <style>
    /* ========== SFONDO LEGNO SCURO RUSTICO ========== */
    body {
      margin: 0;
      padding: 10px;
      box-sizing: border-box;
      color: #ffffff;
      font-family: 'Playfair Display', serif;
      position: relative;
      overflow-x: hidden;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url('sacco.jpg');    /* ========== SFONDO immagine ========== */
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
      filter: blur(2px) brightness(0.7);
      z-index: -2;
      pointer-events: none;
    }
    body::after {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.25);
      z-index: -1;
      pointer-events: none;
    }

    /* ========== ELEMENTI BASE ========== */
    header {
      text-align: center;
      padding: 10px 0;
    }
    header img {
      max-width: 250px;
      width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
    }

    #coperto-text {
      background-color: #9A8468;
      color: #FFFFFF;
      font-size: 1.4em;
      text-align: center;
      font-family: 'Comic Sans MS', 'Chalkboard SE', cursive;
      margin: 10px auto;
      padding: 10px 20px;
      font-weight: normal;
      border:none;
      border-radius: 12px;
      width: fit-content;
    }

    main {
      max-width: 800px;
      margin: auto;
      padding: 0 10px 10px;
      background-color: transparent;
      border-radius: 12px;
    }
    main::after {
      content: "";
      display: block;
      width: 90%;
      height: 2px;
      background-color: #9A6B68;
      margin: 20px auto 0;
      border-radius: 1px;
    }

    /* Pulsanti menu - icona a sinistra allineata in colonna */
    .menu-button {
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 18px;
      margin: 20px auto;
      background-color: #9A8468;
      color: #FFFFFF;
      padding: 0 16px;
      font-size: 1.6rem;
      font-family: 'Comic Sans MS', 'Chalkboard SE', cursive;
      font-weight: bold;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      outline: none;
      width: 260px;
      line-height: 1;
      box-sizing: border-box;
    }
    .menu-button:active {
      box-shadow: inset 8px 8px 16px #bebebe,
                  inset -8px -8px 16px #ffffff;
    }
    #btn-allergeni {
      width: 320px;
      padding: 12px 20px;
      margin: 30px auto;
      font-size: 1.8rem;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
    }
    .menu-button:hover {
      background-color: #9A8468;
      transform: translate(2px, 2px);
    }
    .menu-button img {
      height: 2em;
      width: auto;
      display: block;
    }

    /* Submenu */
    .submenu { display: none; }

    /* Voci menu */
    .pizza {
      margin: 20px 0;
      padding: 10px 5px;
      border-bottom: 1px solid #8A6955;
    }
    .pizza-info {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      flex-wrap: wrap;
      padding: 5px 10px;
    }
    .pizza-name { flex: 1 1 70%; font-size: 1.6em; color: #fff; margin: 0; }
    .pizza-ingredients { flex: 1 1 70%; font-size: 1.3em; margin: 0 0 6px 0; color: #F4EBDD; }
    .pizza-price { flex: 1 1 30%; text-align: right; font-weight: 600; font-size: 1.4em; margin: 0; color: #fff; }

    /* Pulsante raccontami */
    .raccontami-button {
      margin-top: 5px;
      background-color: #9A8468;
      color: #FFFFFF;
      padding: 6px 12px;
      font-size: 1.4rem;
      font-family: 'Comic Sans MS', 'Chalkboard SE', cursive;
      border-radius: 8px;
      cursor: pointer;
      border: 2px solid #4B3929;
    }
    .raccontami-button:hover { background-color: #9A8468; }

    /* Bandiere lingua */
    #langToggle {
      position: fixed; top: 10px; left: 10px; z-index: 10000;
      display: flex; gap: 12px;
    }
    #langToggle img {
      width: 32px; height: 21px; cursor: pointer;
      border: 2px solid transparent; border-radius: 4px;
      transition: border-color 0.3s;
    }
    #langToggle img.selected { border-color: #9A8468; }
    .it, .en { display: none; }

    /* Effetto farina fullscreen */
    #flour-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      pointer-events: none;
      background: url('https://media.giphy.com/media/aXtsC5ouajOQCoEivi/giphy.gif') center center/cover no-repeat;
      opacity: 0;
      transition: opacity 0.7s ease-out;
      z-index: 9999;
    }

    /* Responsive */
    @media (max-width: 480px) {
      .menu-button { width: 75%; font-size: 2em; margin: 5px auto; }
      .pizza-name { font-size: 1.7em; }
      .pizza-ingredients { font-size: 1.1em; }
      .pizza-price { font-size: 1.5em; }
    }
  </style>
</head>
<body>

  <!-- Overlay effetto farina -->
  <div id="flour-overlay"></div>

  <!-- Selettore lingua -->
  <div id="langToggle">
    <img src="https://flagcdn.com/w20/it.png" alt="Italiano" id="flag-it" tabindex="0" />
    <img src="https://flagcdn.com/w20/gb.png" alt="English" id="flag-en" tabindex="0" />
  </div>

  <header>
    <img src="24grani74564E.png" alt="Logo Mixed by Genny" />
    <p id="coperto-text">
      <span class="it">Coperto 2€, acqua 0.5L inclusa</span>
      <span class="en">Cover charge €2, 0.5L water included</span>
    </p>
  </header>

  <main>
    <!-- Pizze -->
    <button class="menu-button" onclick="onMenuButtonClick('pizze')">
      <img src="pizza-icon.png" alt="Pizza Icon" />
      <span class="it">Pizze</span><span class="en">Pizza</span>
    </button>
    <div id="submenu-pizze" class="submenu">
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Margherita</p>
        <p class="pizza-ingredients it">Pomodoro San Marzano, mozzarella di bufala</p>
        <p class="pizza-ingredients en">San Marzano tomato, buffalo mozzarella</p>
        <p class="pizza-price">10€</p>
        <button class="raccontami-button" onclick="onRaccontamiClick('margherita')">
          <span class="it">🎙 Raccontami</span><span class="en">🎙 Tell me</span>
        </button>
      </div></div>
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Diavola</p>
        <p class="pizza-ingredients it">Pomodoro, mozzarella, salame piccante</p>
        <p class="pizza-ingredients en">Tomato, mozzarella, spicy salami</p>
        <p class="pizza-price">12€</p>
        <button class="raccontami-button" onclick="onRaccontamiClick('diavola')">
          <span class="it">🎙 Raccontami</span><span class="en">🎙 Tell me</span>
        </button>
      </div></div>
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Quattro Formaggi</p>
        <p class="pizza-ingredients it">Mozzarella, gorgonzola, parmigiano, provola</p>
        <p class="pizza-ingredients en">Mozzarella, gorgonzola, parmesan, provola cheese</p>
        <p class="pizza-price">13€</p>
        <button class="raccontami-button" onclick="onRaccontamiClick('quattro_formaggi')">
          <span class="it">🎙 Raccontami</span><span class="en">🎙 Tell me</span>
        </button>
      </div></div>
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Capricciosa</p>
        <p class="pizza-ingredients it">Pomodoro, mozzarella, prosciutto cotto, funghi, carciofi, olive</p>
        <p class="pizza-ingredients en">Tomato, mozzarella, cooked ham, mushrooms, artichokes, olives</p>
        <p class="pizza-price">14€</p>
        <button class="raccontami-button" onclick="onRaccontamiClick('capricciosa')">
          <span class="it">🎙 Raccontami</span><span class="en">🎙 Tell me</span>
        </button>
      </div></div>
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Nerano</p>
        <p class="pizza-ingredients it">Zucchine fritte, provolone del monaco, basilico</p>
        <p class="pizza-ingredients en">Fried zucchini, Provolone del Monaco cheese, basil</p>
        <p class="pizza-price">14€</p>
        <button class="raccontami-button" onclick="onRaccontamiClick('nerano')">
          <span class="it">🎙 Raccontami</span><span class="en">🎙 Tell me</span>
        </button>
      </div></div>
    </div>

    <!-- Sfizi -->
    <button class="menu-button" onclick="onMenuButtonClick('sfizi')">
      <img src="sfizi.png" alt="Sfizi Icon" />
      <span class="it">Sfizi</span><span class="en">Snacks</span>
    </button>
    <div id="submenu-sfizi" class="submenu">
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Patatine Fritte</p>
        <p class="pizza-ingredients it">Patate fritte croccanti</p>
        <p class="pizza-ingredients en">Crispy French fries</p>
        <p class="pizza-price">4€</p>
      </div></div>
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Montanara</p>
        <p class="pizza-ingredients it">Pizza fritta con pomodoro e parmigiano</p>
        <p class="pizza-ingredients en">Fried pizza with tomato and parmesan</p>
        <p class="pizza-price">5€</p>
      </div></div>
    </div>

    <!-- Bibite -->
    <button class="menu-button" onclick="onMenuButtonClick('bibite')">
      <img src="bibite.png" alt="Drink Icon" />
      <span class="it">Bibite</span><span class="en">Drinks</span>
    </button>
    <div id="submenu-bibite" class="submenu">
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Birra Chiara alla Spina</p>
        <p class="pizza-ingredients it">Birra bionda fresca alla spina</p>
        <p class="pizza-ingredients en">Fresh draft light beer</p>
        <p class="pizza-price">5€</p>
      </div></div>
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Coca-Cola</p>
        <p class="pizza-ingredients it">Bibita gassata classica</p>
        <p class="pizza-ingredients en">Classic soda drink</p>
        <p class="pizza-price">3€</p>
      </div></div>
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Acqua Naturale 0.5L</p>
        <p class="pizza-ingredients it">Acqua minerale naturale</p>
        <p class="pizza-ingredients en">Still mineral water</p>
        <p class="pizza-price">2€</p>
      </div></div>
    </div>

    <!-- Dolci -->
    <button class="menu-button" onclick="onMenuButtonClick('dolci')">
      <img src="dolci.png" alt="Dessert Icon" />
      <span class="it">Dolci</span><span class="en">Desserts</span>
    </button>
    <div id="submenu-dolci" class="submenu">
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Tiramisù</p>
        <p class="pizza-ingredients it">Classico dolce italiano a base di mascarpone e caffè</p>
        <p class="pizza-ingredients en">Classic Italian dessert with mascarpone and coffee</p>
        <p class="pizza-price">5€</p>
      </div></div>
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Panna Cotta</p>
        <p class="pizza-ingredients it">Dolce al cucchiaio con panna e vaniglia</p>
        <p class="pizza-ingredients en">Creamy dessert with vanilla and cream</p>
        <p class="pizza-price">5€</p>
      </div></div>
      <div class="pizza"><div class="pizza-info">
        <p class="pizza-name">Cheesecake</p>
        <p class="pizza-ingredients it">Dolce al cucchiaio con mirtilli e formaggio spalmabile</p>
        <p class="pizza-ingredients en">Spoon dessert with blueberries and cream cheese</p>
        <p class="pizza-price">5€</p>
      </div></div>
    </div>

    <!-- Allergeni -->
    <button class="menu-button" id="btn-allergeni" onclick="onMenuButtonClick('allergeni')">
      ⚠️ Allergeni
    </button>
    <div id="submenu-allergeni" class="submenu" style="text-align: left; padding: 10px 20px;">
      <p><strong>Per la tua sicurezza, consulta la lista e per una migliore esperienza gastronomica, comunicaci le tue esigenze!</strong></p>
      <hr>
      <ul>
        <li><strong>Latte:</strong> prodotti caseari, latticini e derivati<br><em>Milk: dairy products and derivatives</em></li>
        <li><strong>Frutta a guscio:</strong> mandorle, nocciole, noci, pistacchi e derivati<br><em>Tree nuts: almonds, hazelnuts, walnuts and derivatives</em></li>
        <li><strong>Uova:</strong> uova e derivati<br><em>Eggs and derivatives</em></li>
        <li><strong>Glutine:</strong> glutine di cereali (frumento, segale, orzo, avena)<br><em>Gluten from cereals</em></li>
        <li><strong>Pesce:</strong> pesce e derivati<br><em>Fish and derivatives</em></li>
        <li><strong>Crostacei:</strong> crostacei e derivati<br><em>Crustaceans and derivatives</em></li>
        <li><strong>Soia:</strong> soia e derivati<br><em>Soya and derivatives</em></li>
        <li><strong>Solfiti:</strong> solfiti e conservanti<br><em>Sulfites and preservatives</em></li>
      </ul>
    </div>
  </main>

  <script>
    const langToggle = document.getElementById('langToggle');
    const flagIt = document.getElementById('flag-it');
    const flagEn = document.getElementById('flag-en');
    let currentLang = 'it';

    function setLanguage(lang) {
      currentLang = lang;
      // Mostra solo la lingua selezionata, usando block o inline
      document.querySelectorAll('.it').forEach(el => {
        const display = (lang === 'it' ? (['DIV','P','UL','LI','BUTTON'].includes(el.tagName) ? 'block' : 'inline') : 'none');
        el.style.display = display;
      });
      document.querySelectorAll('.en').forEach(el => {
        const display = (lang === 'en' ? (['DIV','P','UL','LI','BUTTON'].includes(el.tagName) ? 'block' : 'inline') : 'none');
        el.style.display = display;
      });

      // Evidenzia bandiera selezionata
      if(lang === 'it'){
        flagIt.classList.add('selected');
        flagEn.classList.remove('selected');
      } else {
        flagEn.classList.add('selected');
        flagIt.classList.remove('selected');
      }

      // Chiudi tutti i submenu
      document.querySelectorAll('.submenu').forEach(s => s.style.display = 'none');
      // Nascondi effetto farina (in caso)
      flourOverlay.style.opacity = 0;
    }

    flagIt.addEventListener('click', () => setLanguage('it'));
    flagEn.addEventListener('click', () => setLanguage('en'));

    // Supporto tastiera per bandiere
    flagIt.addEventListener('keydown', (e) => { if(e.key === 'Enter') setLanguage('it'); });
    flagEn.addEventListener('keydown', (e) => { if(e.key === 'Enter') setLanguage('en'); });

    // Submenu e effetto farina
    const flourOverlay = document.getElementById('flour-overlay');

    function onMenuButtonClick(section) {
      // Chiudo tutti
      document.querySelectorAll('.submenu').forEach(s => s.style.display = 'none');
      // Apro quello selezionato
      const submenu = document.getElementById('submenu-' + section);
      if(submenu){
        submenu.style.display = 'block';
      }

      // Attivo effetto farina per 700ms
      flourOverlay.style.opacity = 1;
      setTimeout(() => {
        flourOverlay.style.opacity = 0;
      }, 700);
    }

    // Sintesi vocale per raccontami
    function onRaccontamiClick(pizzaKey) {
      const voices = window.speechSynthesis.getVoices();
      let voiceToUse = null;

      // Seleziona voce italiana o inglese in base alla lingua
      if(currentLang === 'it'){
        voiceToUse = voices.find(v => v.lang.startsWith('it')) || voices[0];
      } else {
        voiceToUse = voices.find(v => v.lang.startsWith('en')) || voices[0];
      }

      // Testi descrittivi per ogni pizza in entrambe le lingue
      const testi = {
        'margherita': {
          it: 'La Margherita è una pizza classica con pomodoro San Marzano e mozzarella di bufala.',
          en: 'The Margherita is a classic pizza with San Marzano tomato and buffalo mozzarella.'
        },
        'diavola': {
          it: 'La Diavola è piccante e saporita con pomodoro, mozzarella e salame piccante.',
          en: 'The Diavola is spicy and tasty with tomato, mozzarella and spicy salami.'
        },
        'quattro_formaggi': {
          it: 'La Quattro Formaggi ha mozzarella, gorgonzola, parmigiano e provola.',
          en: 'The Four Cheese pizza has mozzarella, gorgonzola, parmesan and provola cheese.'
        },
        'capricciosa': {
          it: 'La Capricciosa è ricca di sapori: pomodoro, mozzarella, prosciutto cotto, funghi, carciofi e olive.',
          en: 'The Capricciosa is rich in flavors: tomato, mozzarella, cooked ham, mushrooms, artichokes and olives.'
        },
        'nerano': {
          it: 'La Nerano ha zucchine fritte, provolone del monaco e basilico fresco.',
          en: 'The Nerano has fried zucchini, Provolone del Monaco cheese and fresh basil.'
        }
      };

      const textToSpeak = testi[pizzaKey] ? testi[pizzaKey][currentLang] : (currentLang === 'it' ? 'Descrizione non disponibile' : 'Description not available');
      const utterance = new SpeechSynthesisUtterance(textToSpeak);
      utterance.voice = voiceToUse;
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utterance);
    }

    // Inizializza lingua alla partenza
    window.onload = () => {
      setLanguage('it');
    };
  </script>
</body>
</html>
